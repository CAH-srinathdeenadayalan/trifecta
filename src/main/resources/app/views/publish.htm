<div ng-controller="PublishCtrl" class="full_block">
    <div class="pub_bold_label" style="margin-top: 5px">
        <span class="bold">Topic</span>
        <select ng-model="topic" ng-options="t.topic for t in getTopics(false)"></select>
    </div>

    <div class="pub_bold_label"><span class="bold">Message Key</span> &#8212; format:
        <select ng-model="messageBlob.keyFormat" ng-options="f for f in keyFormats"></select>
    </div>
    <div style="display: inline; float: left; width: 69.9%">
        <div class="pub_message_key_panel">
            <textarea ng-model="messageBlob.key" class="pub_editor"
                      placeholder="Enter message key here (or leave blank for auto-generation)">{{ messageBlob.key }}</textarea>
        </div>

        <div class="pub_bold_label">
            <span class="bold">Message Body</span> &#8212; format:
            <select ng-model="messageBlob.messageFormat" ng-options="f for f in messageFormats"></select>
            <button class="publish_button" ng-click="publishMessage(topic.topic, messageBlob)">Publish</button>
        </div>
        <div class="pub_message_data_panel">
            <textarea ng-model="messageBlob.message" class="pub_editor"
                      placeholder="Enter message data here">{{ messageBlob.message }}</textarea>
        </div>
    </div>

    <div style="display: inline; float: right; width: 30%">
        <div style="margin-left: 10px; padding-left: 10px; border-left: 1px solid #cccccc">
            <p>The <b>message key</b> can entered using hexadecimal dot-notation (e.g. <i>00.ca.fe.ba.be.00</i>), which
                represents a binary string.</p>

            <p>Optionally, you may leave the message key field blank and the key will be automatically generated.</p>

            <p>The <b>message body</b> can be represented in various formats; including: Avro, JSON, or Binary
                (<b>NOTE</b>: ASCII text sequences are treated as binary).</p>

            <p><img src="/app/images/tabs/publish/under_construction.gif"></p>
        </div>
    </div>
    <br style="clear:both">
</div>